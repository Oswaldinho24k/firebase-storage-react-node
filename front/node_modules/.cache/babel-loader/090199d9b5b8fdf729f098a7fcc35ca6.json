{"ast":null,"code":"import _classCallCheck from \"/Users/oswaldomartinez/Documents/Ironhack/demos/fullstack2/front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/oswaldomartinez/Documents/Ironhack/demos/fullstack2/front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/oswaldomartinez/Documents/Ironhack/demos/fullstack2/front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/oswaldomartinez/Documents/Ironhack/demos/fullstack2/front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/oswaldomartinez/Documents/Ironhack/demos/fullstack2/front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/oswaldomartinez/Documents/Ironhack/demos/fullstack2/front/src/App.js\";\nimport React, { Component } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport Form from './Form';\nimport Posts from './Posts';\nimport { postPost, getPosts, uploadFile } from './services/posts';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      posts: [],\n      post: {}\n    };\n\n    _this.handleSubmit = function () {\n      var _this$state = _this.state,\n          post = _this$state.post,\n          posts = _this$state.posts;\n      postPost(post).then(function (r) {\n        posts.push(r);\n\n        _this.setState({\n          posts: posts\n        });\n      }).catch(function (e) {\n        return console.log(e);\n      });\n    };\n\n    _this.handleText = function (e) {\n      var post = _this.state.post;\n      var field = e.target.name;\n      post[field] = e.target.value;\n\n      _this.setState({\n        post: post\n      });\n    };\n\n    _this.handleImage = function (e) {\n      console.log(e.target.files);\n      var file = e.target.files[0];\n      uploadFile(file);\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      getPosts().then(function (r) {\n        _this2.setState({\n          posts: r\n        });\n      }).catch(function (e) {\n        return console.log(e);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var posts = this.state.posts;\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(Form, {\n        handleSubmit: this.handleSubmit,\n        handleImage: this.handleImage,\n        handleText: this.handleText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }), React.createElement(Posts, {\n        posts: posts,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/oswaldomartinez/Documents/Ironhack/demos/fullstack2/front/src/App.js"],"names":["React","Component","Form","Posts","postPost","getPosts","uploadFile","App","state","posts","post","handleSubmit","then","r","push","setState","catch","e","console","log","handleText","field","target","name","value","handleImage","files","file"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;AAEA,OAAO,WAAP;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAAQC,QAAR,EAAkBC,QAAlB,EAA4BC,UAA5B,QAA6C,kBAA7C;;IAEMC,G;;;;;;;;;;;;;;;;;UAEJC,K,GAAM;AACJC,MAAAA,KAAK,EAAC,EADF;AAEJC,MAAAA,IAAI,EAAC;AAFD,K;;UAYNC,Y,GAAa,YAAI;AAAA,wBACO,MAAKH,KADZ;AAAA,UACRE,IADQ,eACRA,IADQ;AAAA,UACFD,KADE,eACFA,KADE;AAEfL,MAAAA,QAAQ,CAACM,IAAD,CAAR,CACGE,IADH,CACQ,UAAAC,CAAC,EAAE;AACPJ,QAAAA,KAAK,CAACK,IAAN,CAAWD,CAAX;;AACA,cAAKE,QAAL,CAAc;AAACN,UAAAA,KAAK,EAALA;AAAD,SAAd;AACD,OAJH,EAIKO,KAJL,CAIW,UAAAC,CAAC;AAAA,eAAEC,OAAO,CAACC,GAAR,CAAYF,CAAZ,CAAF;AAAA,OAJZ;AAKD,K;;UAEDG,U,GAAW,UAACH,CAAD,EAAK;AAAA,UACPP,IADO,GACC,MAAKF,KADN,CACPE,IADO;AAEd,UAAMW,KAAK,GAAGJ,CAAC,CAACK,MAAF,CAASC,IAAvB;AACAb,MAAAA,IAAI,CAACW,KAAD,CAAJ,GAAcJ,CAAC,CAACK,MAAF,CAASE,KAAvB;;AACA,YAAKT,QAAL,CAAc;AAACL,QAAAA,IAAI,EAAJA;AAAD,OAAd;AACD,K;;UAEDe,W,GAAY,UAACR,CAAD,EAAK;AACfC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACK,MAAF,CAASI,KAArB;AACA,UAAMC,IAAI,GAAGV,CAAC,CAACK,MAAF,CAASI,KAAT,CAAe,CAAf,CAAb;AACApB,MAAAA,UAAU,CAACqB,IAAD,CAAV;AACD,K;;;;;;;yCA3BmB;AAAA;;AAClBtB,MAAAA,QAAQ,GACLO,IADH,CACQ,UAAAC,CAAC,EAAE;AACP,QAAA,MAAI,CAACE,QAAL,CAAc;AAACN,UAAAA,KAAK,EAACI;AAAP,SAAd;AACD,OAHH,EAGKG,KAHL,CAGW,UAAAC,CAAC;AAAA,eAAEC,OAAO,CAACC,GAAR,CAAYF,CAAZ,CAAF;AAAA,OAHZ;AAID;;;6BAwBQ;AAAA,UACAR,KADA,GACS,KAAKD,KADd,CACAC,KADA;AAEP,aACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AACE,QAAA,YAAY,EAAE,KAAKE,YADrB;AAEE,QAAA,WAAW,EAAE,KAAKc,WAFpB;AAGE,QAAA,UAAU,EAAE,KAAKL,UAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAKE,oBAAC,KAAD;AACE,QAAA,KAAK,EAAEX,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,CADF;AAUD;;;;EAhDeR,S;;AAmDlB,eAAeM,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport Form from './Form'\nimport Posts from './Posts'\nimport {postPost, getPosts, uploadFile} from './services/posts'\n\nclass App extends Component {\n\n  state={\n    posts:[],\n    post:{}\n  }\n\n  componentWillMount(){\n    getPosts()\n      .then(r=>{\n        this.setState({posts:r})\n      }).catch(e=>console.log(e))\n  }\n\n  handleSubmit=()=>{\n    const {post, posts} = this.state\n    postPost(post)\n      .then(r=>{\n        posts.push(r)\n        this.setState({posts})\n      }).catch(e=>console.log(e))\n  }\n\n  handleText=(e)=>{\n    const {post} = this.state\n    const field = e.target.name\n    post[field] = e.target.value\n    this.setState({post})\n  }\n\n  handleImage=(e)=>{\n    console.log(e.target.files)\n    const file = e.target.files[0]\n    uploadFile(file)\n  }\n\n  render() {\n    const {posts} = this.state\n    return (\n      <div className=\"App\">\n        <Form \n          handleSubmit={this.handleSubmit}\n          handleImage={this.handleImage}\n          handleText={this.handleText}/>\n        <Posts \n          posts={posts}/>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}